#:import MapView kivy.garden.mapview.MapView

GridLayout:
    rows:3
    BoxLayout:
        size_hint_y:0.1
        orientation:"horizontal"
        GridLayout:
            cols:7
            MDIconButton:
                icon:"arrow-left"
                on_release:
                    root.ids.content.opacity=0;app.disable_sound(); app.stop_sound()
            MDIconButton:
                icon:"swap-horizontal"
                on_release:app.change_user_pos();
            MDTextField:
                id:lat
                text:'51.803840'

            MDTextField:
                id:lon
                text:'16.316965'
            MDIconButton:
                id:play_sound
                icon:"volume-high"
                disabled:True
                on_release: app.play_sound()
            MDIconButton:
                id:unpause_sound
                icon:"play"
                disabled:True
                on_release: app.unpause_sound()
            MDIconButton:
                id:pause_sound
                icon:"pause"
                disabled:True
                on_release: app.stop_sound()
    MapView:
        id:mapa
        lat: 51.808211
        lon: 16.321750
        zoom: 14
        #User
        MapMarker:
            id:user
            lat: 51.803840
            lon: 16.316965
            source:'data/img/user_neut.png'

        #Ratusz
        MapMarkerPopup:
            id:ratusz
            lat: 51.803840
            lon: 16.316965
            source:'data/img/box.png'
            on_release:
                root.ids.content.opacity = 1;app.enable_content('ratusz'); app.audiofile_setup('ratusz')
        #Fara            
        MapMarkerPopup:
            lat: 51.80453
            lon: 16.31567
            source:'data/img/box.png'
            on_release:
                root.ids.content.opacity = 1;app.enable_content('fara');
        #Zamek
        MapMarkerPopup:
            lat: 51.803390
            lon: 16.319230
            source:'data/img/box.png'
        #Klasztor
        MapMarkerPopup:
            lat: 51.807023
            lon: 16.314377
            source:'data/img/box.png'
        #Lapidarium
        MapMarkerPopup:
            lat: 51.808490
            lon: 16.318390
            source:'data/img/box.png'
        #Byk Ilon
        MapMarkerPopup:
            lat: 51.816180
            lon: 16.328315
            source:'data/img/box.png'
    BoxLayout:
        orientation:'vertical'
        
        MDCard:
            id:content
            opacity:0
            GridLayout:
                rows:3
                ScrollView:
                    GridLayout: 
                        size_hint_x: None
                        rows: 1
                        col_default_width: root.width
                        width: self.minimum_width
                        BoxLayout:
                            orientation:"vertical"
                            GridLayout:
                                cols:3
                                BoxLayout:
                                    size_hint_x:0.2
                                Button:
                                    id:img1
                                    background_normal: ""
                                    background_down: ""
                                    size_hint_x:0.6
                                BoxLayout:
                                    size_hint_x:0.2
                            BoxLayout:
                                size_hint_y:0.05
                            MDLabel:
                                id:img1_caption
                                text:""
                                size_hint_y:0.05
                                halign:"center"
                            BoxLayout:
                                size_hint_y:0.05
                        BoxLayout:
                            orientation:"vertical"
                            Image:
                                id:img2
                                source:''
                            BoxLayout:
                                size_hint_y:0.05
                            MDLabel:
                                id:img2_caption
                                text:""
                                size_hint_y:0.05
                                halign:"center"
                            BoxLayout:
                                size_hint_y:0.05
                        BoxLayout:
                            orientation:"vertical"
                            Image:
                                id:img3
                                source:''
                            BoxLayout:
                                size_hint_y:0.05
                            MDLabel:
                                id:img3_caption
                                text:""
                                size_hint_y:0.05
                                halign:"center"
                            BoxLayout:
                                size_hint_y:0.05
                BoxLayout:
                    size_hint_y:0.05
                ScrollView:
                    MDLabel:
                        id:item_desc
                        size_hint_y: None
                        height: self.texture_size[1]
                        text_size: self.width, None
                        text:""
                